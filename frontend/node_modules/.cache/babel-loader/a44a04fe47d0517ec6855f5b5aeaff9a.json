{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Documents/Traversy ProShop Mern tut/propshop/frontend/src/components/screens/ShippingScreen.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { Form, Button } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport FormContainer from '../FormContainer';\nimport { saveShippingAddress } from '../../actions/cartActions';\nimport { getUserDetails } from '../../actions/userAction';\n\nconst ShippingScreen = () => {\n  //Router Hooks\n  const {\n    push\n  } = useHistory();\n  const cart = useSelector(state => state.cart);\n  const {\n    shippingAddres\n  } = cart; //Sates\n\n  const [name, setName] = useState(shippingAddres.name);\n  const [address, setAddress] = useState(shippingAddres.address);\n  const [city, setCity] = useState(shippingAddres.city);\n  const [postCode, setPostCode] = useState(shippingAddres.postCode);\n  const [country, setCountry] = useState(shippingAddres.country); //Get Name\n\n  const dispatch = useDispatch();\n  const userDetails = useSelector(state => state.userDetails);\n  const {\n    loading,\n    error,\n    user\n  } = userDetails;\n  useEffect(() => {\n    if (!user || !user.name) {\n      dispatch(getUserDetails('profile'));\n    } else {\n      setName(user.name);\n    }\n  }, [dispatch, push, user]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(saveShippingAddress({\n      name,\n      address,\n      city,\n      country,\n      postCode\n    }));\n    push('/payment');\n  };\n\n  return /*#__PURE__*/React.createElement(FormContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 4\n    }\n  }, \"Shipping\"), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 6\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"name\",\n    placeholder: \"Enter name\",\n    autoComplete: \"name\",\n    value: name,\n    onChange: e => setName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 6\n    }\n  }, \"Adress\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"textarea\",\n    as: \"textarea\",\n    rows: \"3\",\n    required: true,\n    placeholder: \"Enter address\",\n    value: address,\n    onChange: e => setAddress(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"postcode\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 6\n    }\n  }, \"Postcode\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    required: true,\n    placeholder: \"Enter postcode\",\n    value: postCode,\n    onChange: e => setPostCode(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"city\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 6\n    }\n  }, \"City\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    required: true,\n    placeholder: \"Enter city\",\n    value: city,\n    onChange: e => setCity(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"country\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 6\n    }\n  }, \"Country\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    required: true,\n    placeholder: \"Enter country\",\n    value: country,\n    onChange: e => setCountry(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    ariant: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, \"Continue\")));\n};\n\nexport default ShippingScreen;","map":{"version":3,"sources":["/Users/macbook/Documents/Traversy ProShop Mern tut/propshop/frontend/src/components/screens/ShippingScreen.js"],"names":["React","useState","useEffect","useHistory","useLocation","Form","Button","useDispatch","useSelector","FormContainer","saveShippingAddress","getUserDetails","ShippingScreen","push","cart","state","shippingAddres","name","setName","address","setAddress","city","setCity","postCode","setPostCode","country","setCountry","dispatch","userDetails","loading","error","user","submitHandler","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { Form, Button } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux'\nimport FormContainer from '../FormContainer'\nimport { saveShippingAddress } from '../../actions/cartActions'\nimport { getUserDetails } from '../../actions/userAction'\n\nconst ShippingScreen = () => {\n\t//Router Hooks\n\tconst { push } = useHistory()\n\n\tconst cart = useSelector((state) => state.cart)\n\tconst { shippingAddres } = cart\n\t//Sates\n\tconst [name, setName] = useState(shippingAddres.name)\n\tconst [address, setAddress] = useState(shippingAddres.address)\n\tconst [city, setCity] = useState(shippingAddres.city)\n\tconst [postCode, setPostCode] = useState(shippingAddres.postCode)\n\tconst [country, setCountry] = useState(shippingAddres.country)\n\n\t//Get Name\n\tconst dispatch = useDispatch()\n\tconst userDetails = useSelector((state) => state.userDetails)\n\tconst { loading, error, user } = userDetails\n\tuseEffect(() => {\n\t\tif (!user || !user.name) {\n\t\t\tdispatch(getUserDetails('profile'))\n\t\t} else {\n\t\t\tsetName(user.name)\n\t\t}\n\t}, [dispatch, push, user])\n\tconst submitHandler = (e) => {\n\t\te.preventDefault()\n\t\tdispatch(saveShippingAddress({ name, address, city, country, postCode }))\n\t\tpush('/payment')\n\t}\n\treturn (\n\t\t<FormContainer>\n\t\t\t<h1>Shipping</h1>\n\t\t\t<Form onSubmit={submitHandler}>\n\t\t\t\t<Form.Group>\n\t\t\t\t\t<Form.Label>Name</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype='name'\n\t\t\t\t\t\tplaceholder='Enter name'\n\t\t\t\t\t\tautoComplete='name'\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\t\t\t\t\t></Form.Control>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId='address'>\n\t\t\t\t\t<Form.Label>Adress</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype='textarea'\n\t\t\t\t\t\tas='textarea'\n\t\t\t\t\t\trows='3'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tplaceholder='Enter address'\n\t\t\t\t\t\tvalue={address}\n\t\t\t\t\t\tonChange={(e) => setAddress(e.target.value)}\n\t\t\t\t\t></Form.Control>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId='postcode'>\n\t\t\t\t\t<Form.Label>Postcode</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tplaceholder='Enter postcode'\n\t\t\t\t\t\tvalue={postCode}\n\t\t\t\t\t\tonChange={(e) => setPostCode(e.target.value)}\n\t\t\t\t\t></Form.Control>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId='city'>\n\t\t\t\t\t<Form.Label>City</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tplaceholder='Enter city'\n\t\t\t\t\t\tvalue={city}\n\t\t\t\t\t\tonChange={(e) => setCity(e.target.value)}\n\t\t\t\t\t></Form.Control>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId='country'>\n\t\t\t\t\t<Form.Label>Country</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tplaceholder='Enter country'\n\t\t\t\t\t\tvalue={country}\n\t\t\t\t\t\tonChange={(e) => setCountry(e.target.value)}\n\t\t\t\t\t></Form.Control>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Button type='submit' ariant='primary'>\n\t\t\t\t\tContinue\n\t\t\t\t</Button>\n\t\t\t</Form>\n\t\t</FormContainer>\n\t)\n}\n\nexport default ShippingScreen\n"]},"metadata":{},"sourceType":"module"}