{"ast":null,"code":"import _toConsumableArray from\"/Users/macbook/Documents/Traversy ProShop Mern tut/propshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/macbook/Documents/Traversy ProShop Mern tut/propshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Link,useParams,useHistory}from'react-router-dom';import{Row,Col,Image,ListGroup,Card,Button,Form}from'react-bootstrap';import Rating from'../Rating';import{listProductDetails}from'../../actions/productActions';import Loader from'../Loader';import Message from'../Message';var ProductScreen=function ProductScreen(){//Router hooks\nvar _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var _useHistory=useHistory(),push=_useHistory.push;var _useParams=useParams(),id=_useParams.id;//Use redux\nvar dispatch=useDispatch();var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){dispatch(listProductDetails(id));},[id,dispatch]);//Get product and go to Cart\nvar addToCartHandler=function addToCartHandler(){push(\"/cart/\".concat(id,\"?qty=\").concat(qty));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{className:\"btn btn-light my-3\",to:\"/\"},\"Go Back\"),loading?/*#__PURE__*/React.createElement(Loader,null):error?/*#__PURE__*/React.createElement(Message,{variant:\"danger\"}):/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(Image,{src:product.image,alt:product.name,fluid:true})),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(ListGroup,{variant:\"flush\"},/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(\"h2\",null,product.name)),/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(Rating,{value:product.rating,text:\"\".concat(product.numReviews,\" reviews\")})),/*#__PURE__*/React.createElement(ListGroup.Item,null,\"Price: \\xA3 \",product.price),/*#__PURE__*/React.createElement(ListGroup.Item,null,product.description))),/*#__PURE__*/React.createElement(Col,{md:3},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(ListGroup,{variant:\"flush\"},/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,\"Price:\"),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"strong\",null,\"\\xA3 \",product.price)))),/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,\"Status:\"),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"strong\",null,product.countInStock>0?\"In Stock\":\"Sold Out\")))),product.countInStock>0&&/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,\"Qty\"),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Form.Control,{as:\"select\",value:qty,onChange:function onChange(e){return setQty(e.target.value);}},_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/React.createElement(\"option\",{key:x+1,value:x+1},x+1);}))))),/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Button,{onClick:addToCartHandler,className:\"btn-block \",disabled:true?product.countInStock===0:false},\"ADD TO CART\")))))))));};export default ProductScreen;","map":{"version":3,"sources":["/Users/macbook/Documents/Traversy ProShop Mern tut/propshop/frontend/src/components/screens/ProductScreen.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Link","useParams","useHistory","Row","Col","Image","ListGroup","Card","Button","Form","Rating","listProductDetails","Loader","Message","ProductScreen","qty","setQty","push","id","dispatch","productDetails","state","loading","error","product","addToCartHandler","image","name","rating","numReviews","price","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link, useParams, useHistory } from 'react-router-dom'\nimport {\n  Row,\n  Col,\n  Image,\n  ListGroup,\n  Card,\n  Button, Form\n} from 'react-bootstrap'\nimport Rating from '../Rating'\nimport { listProductDetails } from '../../actions/productActions'\nimport Loader from '../Loader'\nimport Message from '../Message'\n\nconst ProductScreen = () => {\n  //Router hooks\n  const [qty, setQty] = useState(1)\n  const { push } = useHistory()\n  const { id } = useParams()\n  //Use redux\n  const dispatch = useDispatch()\n  const productDetails = useSelector(state => state.productDetails)\n  const { loading, error, product } = productDetails\n  useEffect(() => {\n    dispatch(listProductDetails(id))\n  }, [id, dispatch]);\n  //Get product and go to Cart\n  const addToCartHandler = () => {\n    push(`/cart/${id}?qty=${qty}`)\n  }\n  return (\n    <>\n      <Link className=\"btn btn-light my-3\" to={`/`}>\n        Go Back\n      </Link>\n      {loading ? <Loader></Loader> : error ? <Message variant=\"danger\"></Message> : (<Row>\n        <Col md=\"6\">\n          <Image src={product.image} alt={product.name} fluid />\n        </Col>\n        <Col md=\"3\">\n          <ListGroup variant=\"flush\">\n            <ListGroup.Item>\n              <h2>{product.name}</h2>\n            </ListGroup.Item>\n            <ListGroup.Item>\n              <Rating\n                value={product.rating}\n                text={`${product.numReviews} reviews`}\n              ></Rating>\n            </ListGroup.Item>\n            <ListGroup.Item>Price: £ {product.price}</ListGroup.Item>\n            <ListGroup.Item>{product.description}</ListGroup.Item>\n          </ListGroup>\n        </Col>\n        <Col md={3}>\n          <Card>\n            <ListGroup variant=\"flush\">\n              <ListGroup.Item>\n                <Row>\n                  <Col>Price:</Col>\n                  <Col>\n                    <strong>£ {product.price}</strong>\n                  </Col>\n                </Row>\n              </ListGroup.Item>\n\n              <ListGroup.Item>\n                <Row>\n                  <Col>Status:</Col>\n                  <Col>\n                    <strong>{product.countInStock > 0 ? `In Stock` : `Sold Out`}</strong>\n                  </Col>\n                </Row>\n              </ListGroup.Item>\n              {product.countInStock > 0 && (\n                <ListGroup.Item>\n                  <Row>\n                    <Col>Qty</Col>\n                    <Col>\n                      <Form.Control\n                        as='select'\n                        value={qty}\n                        onChange={(e) => setQty(e.target.value)}\n                      >\n                        {[...Array(product.countInStock).keys()].map(\n                          (x) => (\n                            <option key={x + 1} value={x + 1}>\n                              {x + 1}\n                            </option>\n                          )\n                        )}\n                      </Form.Control>\n                    </Col>\n                  </Row>\n                </ListGroup.Item>\n              )}\n              <ListGroup.Item>\n                <Row>\n                  <Col>\n                    <Button\n                      onClick={addToCartHandler}\n                      className='btn-block '\n                      disabled={true ? product.countInStock === 0 : false}>ADD TO CART</Button>\n                  </Col>\n                </Row>\n              </ListGroup.Item>\n            </ListGroup>\n          </Card>\n        </Col>\n       \n      </Row>)}\n\n    </>\n  )\n}\n\nexport default ProductScreen\n"]},"metadata":{},"sourceType":"module"}